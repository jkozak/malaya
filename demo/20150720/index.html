<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>reveal.js - The HTML Presentation Framework</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
     var link = document.createElement( 'link' );
     link.rel = 'stylesheet';
     link.type = 'text/css';
     link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
     document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
	<section>
	  <section>
	    <h2>Background</h2>
	    <h3>The last 20 years</h3>
	    <p>
	      So much improvement that things formerly impractical are now trivial.
	    </p>
	  </section>
	  <section>
	    <h2>2015 vs 1995</h2>
	    <h3>Hardware</h3>
	    <ul>
	      <li>RAM is a tenth of the price of disk</li>
	      <li>CPU about a thousand times cheaper</li>
	    </ul>
	  </section>
	  <section>
	    <h2>2015 vs 1995</h2>
	    <h3>Software</h3>
	    <ul>
	      <li>HTTP</li>
	      <li>HTML</li>
	      <li>Lisp goes quietly mainstream</li>
	      <li>Free Software</li>
	    </ul>
	  </section>
	</section>

	<section>
	  <section>
	    <h2>Malaya</h2>
	    <img width="160" height="160" data-src="logo.png"/>
	    <p>A toolkit for building trading systems and suchlike</p>
	  </section>
	  <section>
	    <h2>reduce architectural complexity</h2>
	    <p>uniform data representation</p>
	  </section>
	  <section>
	    <h2>reuse mechanisms everywhere</h2>
	    <p>don't have multiple ways of doing the same thing</p>
	  </section>
	  <section>
	    <h2>Message Streaming</h2>
	    <p>all any system like this does is pass messages around, generate new ones, and record this activity</p>
	  </section>
	  <section>
	    <h2>Ultra High Level Language</h2>
	    <p>specification language - logic/relational hybrid</p>
	    <p>makes sense to domain experts (hopefully)</p>
	  </section>
	</section>

	<section>
	  <h2>Goals - uncontroversial</h2>
	  <ul>
	    <li>fast</li>
	    <li>small</li>
	    <li>easy to modify</li>
	    <li>secure</li>
	    <li>robust</li>
	    <li>fault tolerant</li>
	  </ul>
	</section>

	<section>
	  <section>
	    <h2>Goals - substantive</h2>
	    <ul>
	      <li>use existing protocols</li>
	      <li>use existing data formats</li>
	      <li>use existing frameworks</li>
	      <li>use existing UI</li>
	      <li>use existing code</li>
	    </ul>
	  </section>
	  <section>
	    <h2>protocols</h2>
	    <h3>HTTP</h3>
	    <h3>HTTPS</h3>
	    <p>Mature and proven, used everywhere, all the time</p>
	    <h3>WebSockets</h3>
	    <p>Simple data feed extension to the above</p>
	  </section>
	  <section>
	    <h2>data formats</h2>
	    <h3>JSON</h3>
	    <p>Simple, but general enough to represent all non-exotic structures.</p>
	    <pre>['price', {instrument:'WAR',user:"Joe Bloggs",isBuy:true,volume:50}]</pre>
	  </section>
	  <section>
	    <h2>frameworks</h2>
	    <h3>nodejs</h3>
	    <p>Malaya is layered on top of this.  Same language as used
	    in web browser.  Widely endorsed, even by Microsoft.</p>
	    <h3>react</h3>
	    <p>Web browser UI toolkit from Facebook</p>
	  </section>
	  <section>
	    <h2>UI</h2>
	    <h3>web browser</h3>
	    <p>Now no reason to use anything else.</p>
	    <p>Preferred style is HTML single-page application communicating via websockets.</p>
	    <p>Can also be multi-window and bundled as a binary.</p>
	  </section>
	  <section>
	    <h2>code</h2>
	    <h3>npm library</h3>
	    <p>Vast collection of code to glue to pretty much any system known.</p>
	  </section>
	</section>

	<section>
	  <section>
	    <h2>Some Malaya code</h2>
	    <pre>
rule (-['price', {volume:0, ...}]);
	      
rule (-['price', {user:uB, instrument, volume:vB, isBuy:true,  ...rB}],
      -['price', {user:uS, instrument, volume:vS, isBuy:false, ...rS}],
       vT = Math.min(vB,vS),
      +['trade', {buyer:uB, seller:uS, instrument, volume:vT}],
      +['price', {user:uB, instrument, volume:vB-vT, isBuy:true,  ...rB}],
      +['price', {user:uS, instrument, volume:vS-vT, isBuy:false, ...rS}] );
	    </pre>
	  </section>
	  <section>
	    <h2>More Malaya code</h2>
	    <pre>
rule (-['price', {volume:0, ...}]);

rule (-['price', {user:uB, instrument, volume:vB, isBuy:true,  ...rB}],
      -['price', {user:uS, instrument, volume:vS, isBuy:false, ...rS}],
       ['user', {name:uB, company:cB, ...}],
       ['user', {name:uS, company:cS, ...}],
       cB!==cS,
       vT = Math.min(vB,vS),
      +['trade', {buyer:uB, seller:uS, instrument, volume:vT}],
      +['price', {user:uB, instrument, volume:vB-vT, isBuy:true,  ...rB}],
      +['price', {user:uS, instrument, volume:vS-vT, isBuy:false, ...rS}] );
	    </pre>
	  </section>
	</section>

	<section>
	  <h2>Message streams - plumbing</h2>
	  <p>Messages stream into and out of Malaya systems.</p>
	  <p>They are recorded to disk, giving both an audit log and a means of recovery in case of crashes.</p>
	  <p>They can be streamed to another Malaya process, locally or remotely, giving hot standby and resilience.</p>
	</section>

	<section>
	  <h2>Integrity and Auditability</h2>
	  <p>Log files are hash-chained;  tampering can always be detected.</p>
	  <p>Can play back log files to see what happened at any point in a system's history.</p>
	  <p>Every file acted on or shipped is logged: can always establish exactly what was sent when to whom.</p>
	</section>

	<section>
	  <h2>Runtime Environment</h2>
	  <p>Runs on anything (windows,linux,mac,others).</p>
	  <p>Fairly modest hardware requirements.</p>
	</section>

	<section>
	  <h2>Demo!</h2>
	</section>

	<section>
	  <h2>Project status</h2>
	  <table>
	    <tbody>
	      <tr><td>language</td><td>stable</td></tr>
	      <tr><td>runtime</td><td>stable</td></tr>
	      <tr><td>UI</td><td>started</td></tr>
	    </tbody>
	  </table>
	</section>

	<section>
	  <h2>Questions?</h2>
	</section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

     // Full list of configuration options available at:
     // https://github.com/hakimel/reveal.js#configuration
     Reveal.initialize({
       controls: true,
       progress: true,
       history: true,
       center: true,

       transition: 'slide', // none/fade/slide/convex/concave/zoom

       // Optional reveal.js plugins
       dependencies: [
	 { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
	 { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
	 { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
	 { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
	 { src: 'plugin/zoom-js/zoom.js', async: true },
	 { src: 'plugin/notes/notes.js', async: true }
         //,{ src: 'plugin/remotes/remotes.js', async: true }
       ]
     });

    </script>

  </body>
</html>
